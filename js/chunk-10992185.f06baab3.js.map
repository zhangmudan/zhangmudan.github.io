{"version":3,"sources":["webpack:///./src/views/PostComment.vue?5ec9","webpack:///./src/components/CommentFloor.vue?134a","webpack:///src/components/CommentFloor.vue","webpack:///./src/components/CommentFloor.vue?54d6","webpack:///./src/components/CommentFloor.vue","webpack:///src/views/PostComment.vue","webpack:///./src/views/PostComment.vue?e658","webpack:///./src/views/PostComment.vue","webpack:///./src/components/Navigate.vue?ef42","webpack:///./src/views/PostComment.vue?6873","webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./src/components/CommentFloor.vue?c075","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./src/components/Navigate.vue?f95d","webpack:///src/components/Navigate.vue","webpack:///./src/components/Navigate.vue?a9ac","webpack:///./src/components/Navigate.vue","webpack:///./node_modules/core-js/internals/string-trim-forced.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","finished","on","onLoad","model","value","callback","$$v","loading","expression","_l","item","index","key","$axios","defaults","baseURL","user","head_img","_v","_s","nickname","moment","create_date","fromNow","$event","handleReply","content","parent","_e","ref","class","isFocus","rows","list_item","focus","blur","type","indexOf","_k","keyCode","submit","message","staticRenderFns","data","name","props","methods","$emit","component","id","list","pageIndex","pageSize","components","Navigate","CommentFloor","mounted","getList","url","params","length","setTimeout","trim","parent_id","headers","Authorization","token","method","$","$trim","forcedStringTrimMethod","target","proto","forced","module","exports","requireObjectCoercible","whitespaces","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","String","replace","start","end","fails","isArray","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","undefined","FORCED","arg","i","k","len","E","A","n","arguments","TypeError","$router","back","title","push","non","METHOD_NAME"],"mappings":"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","file":"js/chunk-10992185.f06baab3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Navigate',{attrs:{\"title\":\"精彩跟帖\"}}),_c('div',{staticClass:\"main\"},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"我也是有底线的\",\"immediate-check\":false},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.list),function(item,index){return _c('div',{key:index,staticClass:\"comment\"},[_c('div',{staticClass:\"user\"},[_c('div',{staticClass:\"user-info\"},[_c('img',{attrs:{\"src\":_vm.$axios.defaults.baseURL+item.user.head_img,\"alt\":\"这是图片\"}}),_c('div',{staticClass:\"info\"},[_c('p',[_vm._v(_vm._s(item.user.nickname))]),_c('p',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.moment(item.create_date).fromNow()))])])]),_c('div',{staticClass:\"reply\",on:{\"click\":function($event){return _vm.handleReply(item)}}},[_vm._v(\"回复\")])]),_c('div',{staticClass:\"content\"},[_c('p',[_vm._v(_vm._s(item.content))])]),(item.parent)?_c('CommentFloor',{attrs:{\"data\":item.parent},on:{\"replyFloor\":_vm.handleReply}}):_vm._e()],1)}),0)],1),_c('div',{staticClass:\"footer\"},[_c('van-field',{ref:\"textarea\",staticClass:\"textarea\",class:_vm.isFocus?'active':'',attrs:{\"rows\":_vm.rows,\"autosize\":!_vm.isFocus,\"type\":\"textarea\",\"placeholder\":_vm.list_item.user?\"回复:@\"+_vm.list_item.user.nickname:'说点什么吧...',\"isFocus\":false},on:{\"focus\":_vm.focus,\"blur\":_vm.blur,\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submit($event)}},model:{value:(_vm.message),callback:function ($$v) {_vm.message=$$v},expression:\"message\"}}),(_vm.isFocus)?_c('span',{staticClass:\"submit\",on:{\"click\":_vm.submit}},[_vm._v(\"发布\")]):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"floor\"},[_c('div',{staticClass:\"user-floor\"},[_c('div',{staticClass:\"user-info\"},[_c('div',{staticClass:\"info\"},[_c('img',{attrs:{\"src\":_vm.$axios.defaults.baseURL+_vm.data.user.head_img,\"alt\":\"\"}}),_c('div',[_c('p',[_vm._v(_vm._s(_vm.data.user.nickname))]),_c('p',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.moment(_vm.data.create_date).fromNow()))])])]),_c('div',{staticClass:\"reply\",on:{\"click\":function($event){return _vm.handleReply(_vm.data)}}},[_vm._v(\"回复\")])]),_c('div',{staticClass:\"floor-content\"},[_vm._v(_vm._s(_vm.data.content))]),(_vm.data.parent)?_c('CommentFloor',{attrs:{\"data\":_vm.data.parent},on:{\"replyFloor\":_vm.handleReply}}):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"floor\">\r\n    <div class=\"user-floor\">\r\n      <div class=\"user-info\">\r\n        <div class=\"info\">\r\n          <img :src=\"$axios.defaults.baseURL+data.user.head_img\" alt />\r\n          <div>\r\n            <p>{{data.user.nickname}}</p>\r\n            <p class=\"time\">{{moment(data.create_date).fromNow()}}</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"reply\" @click=\"handleReply(data)\">回复</div>\r\n      </div>\r\n      <div class=\"floor-content\">{{data.content}}</div>\r\n      <CommentFloor v-if=\"data.parent\" :data=\"data.parent\" @replyFloor=\"handleReply\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n//引入时间插件\r\nimport moment from \"moment\";\r\nexport default {\r\n  //声明当前的组件名,在当前组件里面,name的值可以用于调用组件自己\r\n  name: \"CommentFloor\",\r\n  props: [\"data\"],\r\n  data() {\r\n    return {\r\n      moment\r\n    };\r\n  },\r\n  methods: {\r\n    handleReply(data) {\r\n      this.$emit(\"replyFloor\", data);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n.user-floor {\r\n  margin: 8/360 * 100vw;\r\n  border: 1px solid #ccc;\r\n  .user-info {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    font-size: 13/360 * 100vw;\r\n    padding: 5px;\r\n\r\n    .info {\r\n      display: flex;\r\n      img {\r\n        display: block;\r\n        width: 25/360 * 100vw;\r\n        height: 25/360 * 100vw;\r\n        border-radius: 50%;\r\n        margin-right: 5/360 * 100vw;\r\n      }\r\n      .time {\r\n        font-size: 12/360 * 100vw;\r\n        color: #aaa;\r\n      }\r\n    }\r\n    .reply {\r\n      font-size: 13/360 * 100vw;\r\n      color: #666;\r\n    }\r\n  }\r\n}\r\n.floor-content {\r\n  font-size: 13/360 * 100vw;\r\n  padding: 0 5px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentFloor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentFloor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentFloor.vue?vue&type=template&id=bfa3e42e&scoped=true&\"\nimport script from \"./CommentFloor.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentFloor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentFloor.vue?vue&type=style&index=0&id=bfa3e42e&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bfa3e42e\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <Navigate title=\"精彩跟帖\" />\r\n    <div class=\"main\">\r\n      <van-list\r\n        v-model=\"loading\"\r\n        :finished=\"finished\"\r\n        finished-text=\"我也是有底线的\"\r\n        @load=\"onLoad\"\r\n        :immediate-check=\"false\"\r\n      >\r\n        <div class=\"comment\" v-for=\"(item,index) in list \" :key=\"index\">\r\n          <div class=\"user\">\r\n            <div class=\"user-info\">\r\n              <img :src=\"$axios.defaults.baseURL+item.user.head_img\" alt=\"这是图片\" />\r\n              <div class=\"info\">\r\n                <p>{{item.user.nickname}}</p>\r\n                <!-- moment().fromNow 就是显示距离到当前的时间 -->\r\n                <p class=\"time\">{{moment(item.create_date).fromNow()}}</p>\r\n              </div>\r\n            </div>\r\n            <div class=\"reply\" @click=\"handleReply(item)\">回复</div>\r\n          </div>\r\n          <div class=\"content\">\r\n            <p>{{item.content}}</p>\r\n          </div>\r\n          <CommentFloor v-if=\"item.parent\" :data=\"item.parent\" @replyFloor=\"handleReply\" />\r\n        </div>\r\n      </van-list>\r\n    </div>\r\n    <div class=\"footer\">\r\n      <van-field\r\n        v-model=\"message\"\r\n        :rows=\"rows\"\r\n        :autosize=\"!isFocus\"\r\n        type=\"textarea\"\r\n        :placeholder=\"list_item.user?`回复:@`+list_item.user.nickname:'说点什么吧...'\"\r\n        class=\"textarea\"\r\n        @focus=\"focus\"\r\n        @blur=\"blur\"\r\n        @keyup.enter=\"submit\"\r\n        :isFocus=\"false\"\r\n        :class=\"isFocus?'active':''\"\r\n        ref=\"textarea\"\r\n      />\r\n      <span class=\"submit\" v-if=\"isFocus\" @click=\"submit\">发布</span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n//头部组件\r\nimport Navigate from \"@/components/Navigate\";\r\n//楼层组件\r\nimport CommentFloor from \"@/components/CommentFloor\";\r\n//引入时间插件\r\nimport moment from \"moment\";\r\n// 转换国际语言，zh-CN就是中文（en 就是默认的英文）\r\nmoment.locale(\"zh-CN\");\r\nexport default {\r\n  data() {\r\n    return {\r\n      moment,\r\n      id: \"\",\r\n      list: [],\r\n      loading: false,\r\n      finished: false,\r\n      // 请求的页数\r\n      pageIndex: 1,\r\n      // 请求的条数\r\n      pageSize: 5,\r\n      message: \"\",\r\n      rows: 1,\r\n      //记录是否聚焦\r\n      isFocus: false,\r\n      //回复对象\r\n      list_item: {}\r\n    };\r\n  },\r\n  components: {\r\n    Navigate,\r\n    CommentFloor\r\n  },\r\n  mounted() {\r\n    const { id } = this.$route.params;\r\n    this.id = id;\r\n    this.getList();\r\n  },\r\n  methods: {\r\n    getList() {\r\n      this.$axios({\r\n        url: \"/post_comment/\" + this.id,\r\n        params: {\r\n          pageIndex: this.pageIndex,\r\n          pageSize: this.pageSize\r\n        }\r\n      }).then(res => {\r\n        // console.log(res);\r\n        const { data } = res.data;\r\n        this.list = [...this.list, ...data];\r\n        this.pageIndex += 1;\r\n        // 异步更新数据\r\n        // 加载状态结束\r\n        this.loading = false;\r\n        // 数据全部加载完成\r\n        if (data.length < this.pageSize) {\r\n          this.finished = true;\r\n        }\r\n      });\r\n    },\r\n    onLoad() {\r\n      this.getList();\r\n    },\r\n    //聚焦弹起输入框\r\n    focus() {\r\n      this.isFocus = true;\r\n    },\r\n    //失焦收起输入框\r\n    blur() {\r\n      // 失去焦点时候，不要立马就隐藏发布按钮，需要在按钮点击之后再隐藏\r\n      setTimeout(() => {\r\n        this.isFocus = false;\r\n        //失去焦点是如果输入框为空,把回复的人清空\r\n        if (this.message.trim() === \"\") {\r\n          this.list_item = {};\r\n        }\r\n      }, 200);\r\n    },\r\n    //点击发布\r\n    submit() {\r\n      if (this.message.trim() == \"\") return;\r\n      const { token } = JSON.parse(localStorage.getItem(\"userInfor\")) || {};\r\n      const data = {\r\n        content: this.message\r\n      };\r\n      if (this.list_item.id) {\r\n        data.parent_id = this.list_item.id;\r\n      }\r\n      this.$axios({\r\n        url: \"/post_comment/\" + this.id,\r\n        headers: {\r\n          Authorization: token\r\n        },\r\n        data,\r\n        method: \"POST\"\r\n      }).then(res => {\r\n        this.message = \"\";\r\n        this.$toast.success(res.data.message);\r\n        this.list = [];\r\n        this.pageIndex = 1;\r\n        this.getList();\r\n        // 清空回复的数据\r\n        this.list_item = {};\r\n        this.isFocus = false;\r\n      });\r\n    },\r\n    //回复\r\n    handleReply(item) {\r\n      // 因为点击时候失去焦点，已经触发了blur事件\r\n      setTimeout(() => {\r\n        this.list_item = item;\r\n        this.isFocus = true;\r\n        // 输入框获得焦点\r\n        this.$refs.textarea.focus();\r\n      }, 200);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n.main {\r\n  margin-bottom: 80/360 * 100vw;\r\n}\r\n.comment {\r\n  border-bottom: 1px solid #ccc;\r\n  .user {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin: 10/360 * 100vw;\r\n    .user-info {\r\n      display: flex;\r\n      font-size: 13/360 * 100vw;\r\n      img {\r\n        display: block;\r\n        width: 35/360 * 100vw;\r\n        height: 35/360 * 100vw;\r\n        border-radius: 50%;\r\n        margin-right: 10/360 * 100vw;\r\n      }\r\n      .info {\r\n        .time {\r\n          font-size: 12/360 * 100vw;\r\n          color: #aaa;\r\n        }\r\n      }\r\n    }\r\n    .reply {\r\n      font-size: 13/360 * 100vw;\r\n      color: #666;\r\n    }\r\n  }\r\n\r\n  .content {\r\n    margin: 0 8/360 * 100vw 10/360 * 100vw;\r\n    font-size: 13/360 * 100vw;\r\n  }\r\n}\r\n.footer {\r\n  position: fixed;\r\n  width: 100%;\r\n  bottom: 0;\r\n  left: 0;\r\n  padding: 5/360 * 100vw;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-end;\r\n  .textarea {\r\n    background: #eee;\r\n    border-radius: 5/360 * 100vw;\r\n    padding: 5px 15px;\r\n  }\r\n  .active {\r\n    height: 82px !important;\r\n    border-radius: 8px;\r\n  }\r\n  .submit {\r\n    margin-left: 5px;\r\n    padding: 3px 10px;\r\n    color: #fff;\r\n    background: red;\r\n    border-radius: 25/360 * 100vw;\r\n    font-size: 13px;\r\n    flex-shrink: 0;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostComment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostComment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PostComment.vue?vue&type=template&id=c83997a2&scoped=true&\"\nimport script from \"./PostComment.vue?vue&type=script&lang=js&\"\nexport * from \"./PostComment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PostComment.vue?vue&type=style&index=0&id=c83997a2&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c83997a2\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navigate.vue?vue&type=style&index=0&id=4352c0d4&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navigate.vue?vue&type=style&index=0&id=4352c0d4&lang=less&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostComment.vue?vue&type=style&index=0&id=c83997a2&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostComment.vue?vue&type=style&index=0&id=c83997a2&lang=less&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentFloor.vue?vue&type=style&index=0&id=bfa3e42e&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentFloor.vue?vue&type=style&index=0&id=bfa3e42e&lang=less&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"nav\"},[(_vm.isShow)?_c('span',{staticClass:\"iconfont iconjiantou2\",on:{\"click\":function($event){return _vm.$router.replace('/')}}}):_c('span',{staticClass:\"iconfont iconjiantou2\",on:{\"click\":function($event){return _vm.$router.back()}}}),_c('strong',[_vm._v(_vm._s(_vm.title))]),(_vm.isShow)?_c('span',{staticClass:\"iconfont iconshouye\",on:{\"click\":function($event){return _vm.$router.push('/')}}}):_c('span')])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 导航 -->\r\n  <div class=\"nav\">\r\n    <!-- 因为template标签都是包含着this这个对象中, $router.back() 就如调用data中的数据不需要使用this一样 -->\r\n    <span class=\"iconfont iconjiantou2\" @click=\"$router.replace('/')\" v-if=\"isShow\"></span>\r\n    <span class=\"iconfont iconjiantou2\" @click=\"$router.back()\" v-else></span>\r\n    <strong>{{title}}</strong>\r\n    <span class=\"iconfont iconshouye\" @click=\"$router.push('/')\" v-if=\"isShow\"></span>\r\n    <!-- v-else 指令必须接着v-if后面使用 -->\r\n    <span v-else></span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: [\"title\", \"isShow\"]\r\n};\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n.nav {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  line-height: 48/360 * 100vw;\r\n  padding: 0 15/360 * 100vw;\r\n  span {\r\n    font-size: 20/360 * 100vw;\r\n  }\r\n  strong {\r\n    font-size: 16/360 * 100vw;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navigate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navigate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Navigate.vue?vue&type=template&id=4352c0d4&scoped=true&\"\nimport script from \"./Navigate.vue?vue&type=script&lang=js&\"\nexport * from \"./Navigate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Navigate.vue?vue&type=style&index=0&id=4352c0d4&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4352c0d4\",\n  null\n  \n)\n\nexport default component.exports","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n"],"sourceRoot":""}