(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ec98666a"],{"3ebb":function(t,s,i){"use strict";var o=i("53e1"),a=i.n(o);a.a},"53e1":function(t,s,i){},"81a8":function(t,s,i){"use strict";i.r(s);var o=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("div",{staticClass:"header"},[i("div",{staticClass:"left"},[i("i",{staticClass:"iconfont iconjiantou2",on:{click:function(s){return t.$router.back()}}}),i("i",{staticClass:"iconfont iconnew"})]),i("div",{staticClass:"follow",class:t.postList.has_follow?"":"active",on:{click:t.follows}},[t._v(t._s(t.postList.has_follow?"已关注":"关注"))])]),i("video",{staticClass:"video",attrs:{controls:"",src:t.$axios.defaults.baseURL+t.postList.content}},[t._v("您的浏览器不支持 video 标签。")]),i("div",{staticClass:"main"},[i("p",[i("img",{attrs:{src:"https://img.yzcdn.cn/vant/leaf.jpg",alt:""}}),i("span",[t._v(t._s(t.postList.user.nickname))])]),i("div",{staticClass:"title"},[t._v(t._s(t.postList.title))]),i("div",{staticClass:"icon"},[i("div",{staticClass:"iconzan",on:{click:t.getLike}},[i("i",{staticClass:"iconfont icondianzan"}),i("em",[t._v(t._s(Number(t.postList.has_like)>100?"99+":Number(t.postList.has_like)))])]),t._m(0)])]),i("Footer",{attrs:{postList:t.postList}})],1)},a=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"iconwei"},[i("i",{staticClass:"iconfont iconweixin"}),i("em",[t._v("微信")])])}],e=i("fd2d"),n={data:function(){return{postList:{user:{}}}},components:{Footer:e["a"]},mounted:function(){var t=this,s=JSON.parse(localStorage.getItem("userInfor"))||{},i=s.token;this.token=i;var o=this.$route.params.id,a={url:"/post/"+o};i&&(a.headers={Authorization:i}),this.$axios(a).then((function(s){var i=s.data.data;t.postList=i}))},methods:{follows:function(){var t=this,s="";s=this.postList.has_follow?"/user_unfollow/"+this.postList.user.id:"/user_follows/"+this.postList.user.id,this.$axios({url:s,headers:{Authorization:this.token}}).then((function(s){t.postList.has_follow=!t.postList.has_follow,t.$toast.success(t.postList.has_follow?"关注成功":"取消关注成功")}))},collection:function(){var t=this;this.$axios({url:"/post_star/"+this.postList.id,headers:{Authorization:this.token}}).then((function(s){t.postList.has_star=!t.postList.has_star,t.$toast.success(s.data.message)}))},getLike:function(){var t=this;this.$axios({url:"/post_like/"+this.postList.id,headers:{Authorization:this.token}}).then((function(s){t.postList.has_like=!t.postList.has_like,t.postList.has_like?t.postList.like_length+=1:t.postList.like_length-=1,t.$toast.success(s.data.message)}))}}},c=n,l=(i("bb48"),i("2877")),r=Object(l["a"])(c,o,a,!1,null,"e2c008a6",null);s["default"]=r.exports},bb48:function(t,s,i){"use strict";var o=i("d19f"),a=i.n(o);a.a},d19f:function(t,s,i){},fd2d:function(t,s,i){"use strict";var o=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"footer"},[i("div",{staticClass:"foot"},[i("router-link",{attrs:{to:"/post-comment/"+t.postList.id}},[i("input",{attrs:{type:"text",placeholder:"发表评论"}})]),i("router-link",{staticClass:"comment",attrs:{to:"/post-comment/"+t.postList.id}},[i("i",{staticClass:"iconfont iconpinglun-"}),i("em",[t._v(t._s(t.postList.comment_length))])]),i("i",{staticClass:"iconfont iconshoucang",class:t.postList.has_star?"active":"",on:{click:t.collection}}),i("i",{staticClass:"iconfont iconfenxiang"})],1)])},a=[],e={props:["postList"],methods:{collection:function(){var t=this,s=JSON.parse(localStorage.getItem("userInfor"))||{},i=s.token;this.$axios({url:"/post_star/"+this.postList.id,headers:{Authorization:i}}).then((function(s){t.postList.has_star=!t.postList.has_star,t.$toast.success(s.data.message)}))}}},n=e,c=(i("3ebb"),i("2877")),l=Object(c["a"])(n,o,a,!1,null,"6eca86a8",null);s["a"]=l.exports}}]);
//# sourceMappingURL=chunk-ec98666a.178b3e47.js.map