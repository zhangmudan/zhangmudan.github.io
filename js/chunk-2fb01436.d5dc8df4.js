(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2fb01436"],{"0fa0":function(t,e,a){"use strict";var i=a("b41a"),s=a.n(i);s.a},"162d":function(t,e,a){},"32b9":function(t,e,a){"use strict";var i=a("f223"),s=a.n(i);s.a},"3cd8":function(t,e,a){"use strict";var i=a("162d"),s=a.n(i);s.a},"493f":function(t,e,a){"use strict";var i=a("6726"),s=a.n(i);s.a},"4de4":function(t,e,a){"use strict";var i=a("23e7"),s=a("b727").filter,n=a("1dde"),o=a("ae40"),r=n("filter"),c=o("filter");i({target:"Array",proto:!0,forced:!r||!c},{filter:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},"544e":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-link",{attrs:{to:"/video/"+t.data.id}},[a("div",{staticClass:"imgList"},[a("div",{staticClass:"left"},[a("h4",[t._v(t._s(t.data.title))]),a("div",{staticClass:"img"},[a("img",{attrs:{src:t.$axios.defaults.baseURL+t.data.cover[0].url,alt:"这是视频"}}),a("div",{staticClass:"cover"},[a("i",{staticClass:"iconfont iconshipin"})])]),a("p",[t._v(t._s(t.data.user.nickname)+" "+t._s(t.data.comment_length)+"跟帖")])])])])},s=[],n={props:["data"]},o=n,r=(a("0fa0"),a("2877")),c=Object(r["a"])(o,i,s,!1,null,"5789e790",null);e["a"]=c.exports},6726:function(t,e,a){},"99af":function(t,e,a){"use strict";var i=a("23e7"),s=a("d039"),n=a("e8b5"),o=a("861d"),r=a("7b0b"),c=a("50c4"),l=a("8418"),d=a("65f0"),u=a("1dde"),f=a("b622"),h=a("2d00"),g=f("isConcatSpreadable"),v=9007199254740991,p="Maximum allowed index exceeded",m=h>=51||!s((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),b=u("concat"),_=function(t){if(!o(t))return!1;var e=t[g];return void 0!==e?!!e:n(t)},x=!m||!b;i({target:"Array",proto:!0,forced:x},{concat:function(t){var e,a,i,s,n,o=r(this),u=d(o,0),f=0;for(e=-1,i=arguments.length;e<i;e++)if(n=-1===e?o:arguments[e],_(n)){if(s=c(n.length),f+s>v)throw TypeError(p);for(a=0;a<s;a++,f++)a in n&&l(u,f,n[a])}else{if(f>=v)throw TypeError(p);l(u,f++,n)}return u.length=f,u}})},b41a:function(t,e,a){},b7db:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-link",{attrs:{to:"/post/"+t.data.id}},[a("div",{staticClass:"img"},[a("div",{staticClass:"left"},[a("h4",[t._v(t._s(t.data.title))]),a("p",[t._v(t._s(t.data.user.nickname)+" "+t._s(t.data.comment_length)+"跟帖")])]),a("img",{attrs:{src:t.$axios.defaults.baseURL+t.data.cover[0].url,alt:"这是图片"}})])])},s=[],n={props:["data"]},o=n,r=(a("32b9"),a("2877")),c=Object(r["a"])(o,i,s,!1,null,"f9bfc366",null);e["a"]=c.exports},d504:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"header"},[a("span",{staticClass:"iconfont iconnew"}),a("router-link",{staticClass:"search",attrs:{to:"/search"}},[a("span",{staticClass:"iconfont iconsearch"}),a("i",[t._v("搜索新闻")])]),a("router-link",{attrs:{to:"/personal"}},[a("span",{staticClass:"iconfont iconwode"})])],1),a("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(e){t.refreshing=e},expression:"refreshing"}},[a("van-tabs",{attrs:{sticky:"",swipeable:""},on:{scroll:t.getScroll},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.categories,(function(e,i){return 1===e.is_top||"∨"===e.name?a("van-tab",{key:i,attrs:{title:e.name}},[a("van-list",{attrs:{finished:e.finished,"finished-text":"我也是有底线的","immediate-check":!1},on:{load:t.onLoad},model:{value:e.loading,callback:function(a){t.$set(e,"loading",a)},expression:"item.loading"}},t._l(e.post,(function(e,i){return a("div",{key:i},[1===e.type&&e.cover.length>0&&e.cover.length<3?a("Exhibition1",{attrs:{data:e}}):t._e(),1===e.type&&e.cover.length>2?a("Exhibition2",{attrs:{data:e}}):t._e(),2===e.type?a("Exhibition3",{attrs:{data:e}}):t._e()],1)})),0)],1):t._e()})),1)],1)],1)},s=[],n=(a("99af"),a("4de4"),a("d81d"),a("b0c0"),a("2909")),o=a("b7db"),r=a("f4f9"),c=a("544e"),l={name:"index",beforeRouteEnter:function(t,e,a){"/column"===e.path||"/login"===e.path||"/personal"===e.path?a((function(t){t.active=0,t.rolode()})):a()},data:function(){return{categories:[],active:0,token:"",refreshing:!1}},watch:{active:function(){var t=this,e=this.categories.filter((function(t){return t.is_top||"∨"===t.name}));this.active===e.length-1?this.$router.push("/column"):this.getList(),setTimeout((function(){window.scrollTo(0,t.categories[t.active].scrollY)}),20)}},components:{Exhibition1:o["a"],Exhibition2:r["a"],Exhibition3:c["a"]},mounted:function(){this.rolode()},methods:{rolode:function(){var t=JSON.parse(localStorage.getItem("userInfor"))||{},e=t.token;this.token=e;var a=JSON.parse(localStorage.getItem("categories"));a?"关注"!==a[0].name&&e||"关注"===a[0].name&&!e?this.getCategories():(this.categories=a,this.getPage()):this.getCategories()},getPage:function(){this.categories=this.categories.map((function(t){return t.pageIndex=1,t.post=[],t.loading=!1,t.finished=!1,t.scrollY=0,t.isload=!1,t})),this.getList()},getList:function(){var t=this,e=this.categories[this.active],a=e.pageIndex,i=e.id,s=e.finished,o=e.name,r=e.isload;if(!r&&(this.categories[this.active].isload=!0,this.categories[this.active].pageIndex+=1,!s)){var c={url:"/post",params:{pageIndex:a,pageSize:5,category:i}};"关注"===o&&(c.headers={Authorization:this.token}),this.$axios(c).then((function(e){var a=e.data,i=a.data,s=a.total;t.categories[t.active].post=[].concat(Object(n["a"])(t.categories[t.active].post),Object(n["a"])(i)),t.categories[t.active].loading=!1,t.categories=Object(n["a"])(t.categories),t.categories[t.active].post.length===s&&(t.categories[t.active].finished=!0),t.categories[t.active].isload=!1}))}},getCategories:function(){var t=this,e={url:"/category"};this.token&&(e.headers={Authorization:this.token}),this.$axios(e).then((function(e){var a=e.data.data;a.push({name:"∨"}),t.categories=a,localStorage.setItem("categories",JSON.stringify(a)),t.getPage()}))},onLoad:function(){this.getList()},getScroll:function(t){var e=t.scrollTop;0!==this.categories.length&&(this.categories[this.active].scrollY=e)},onRefresh:function(){this.refreshing=!1,console.log("正在下拉刷新")}}},d=l,u=(a("493f"),a("2877")),f=Object(u["a"])(d,i,s,!1,null,"c892b804",null);e["default"]=f.exports},d81d:function(t,e,a){"use strict";var i=a("23e7"),s=a("b727").map,n=a("1dde"),o=a("ae40"),r=n("map"),c=o("map");i({target:"Array",proto:!0,forced:!r||!c},{map:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},f223:function(t,e,a){},f4f9:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("router-link",{attrs:{to:"/post/"+t.data.id}},[a("div",{staticClass:"imgList"},[a("div",{staticClass:"left"},[a("h4",[t._v(t._s(t.data.title))])]),a("div",{staticClass:"list-img"},t._l(t.data.cover,(function(e,i){return a("img",{key:i,attrs:{src:t.$axios.defaults.baseURL+e.url,alt:"这是图片"}})})),0),a("p",[t._v(t._s(t.data.user.nickname)+" "+t._s(t.data.comment_length)+"跟帖")])])])},s=[],n={props:["data"]},o=n,r=(a("3cd8"),a("2877")),c=Object(r["a"])(o,i,s,!1,null,"fc5ab3d4",null);e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-2fb01436.d5dc8df4.js.map